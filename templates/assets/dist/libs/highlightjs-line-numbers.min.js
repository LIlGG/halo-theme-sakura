const a="hljs-ln",M="hljs-ln-line",N="hljs-ln-code",j="hljs-ln-numbers",L="hljs-ln-n",f="data-line-number",g=/\r\n|\r|\n/g;function v(e){let n=e;for(;n;){if(n.className&&n.className.indexOf("hljs-ln-code")!==-1)return!0;n=n.parentNode}return!1}function x(e){let n=e;for(;n.nodeName!=="TABLE";)n=n.parentNode;return n}function O(e){const n=e.toString();let t=e.anchorNode;for(;t.nodeName!=="TD";)t=t.parentNode;let r=e.focusNode;for(;r.nodeName!=="TD";)r=r.parentNode;let i=parseInt(t.dataset.lineNumber),o=parseInt(r.dataset.lineNumber);if(i!==o){let s=t.textContent,c=r.textContent;if(i>o){let l=i;i=o,o=l,l=s,s=c,c=l}for(;n.indexOf(s)!==0;)s=s.slice(1);for(;n.lastIndexOf(c)===-1;)c=c.slice(0,-1);let u=s;const w=x(t);for(let l=i+1;l<o;++l){const T=`.${N}[${f}="${l}"]`,A=w.querySelector(T);u+=`
`+A.textContent}return u+=`
`+c,u}else return n}document.addEventListener("copy",function(e){const n=window.getSelection();if(v(n.anchorNode)){let t;window.navigator.userAgent.indexOf("Edge")!==-1?t=O(n):t=n.toString(),e.clipboardData.setData("text/plain",t),e.preventDefault()}});function C(e){window.document.readyState==="interactive"||window.document.readyState==="complete"?m(e):window.addEventListener("DOMContentLoaded",function(){m(e)})}function m(e){try{const n=window.document.querySelectorAll("code.hljs,code.nohighlight");for(const t in n)B(t)||h(t,e)}catch(n){throw new Error("LineNumbers error: ",n)}}function B(e){return e.classList.contains("nohljsln")}function h(e,n){typeof e=="object"&&setTimeout(()=>{e.innerHTML=b(e,n)})}function S(e,n){if(typeof e!="string")return;const t=document.createElement("code");return t.innerHTML=e,b(t,n)}function b(e,n){const t=y(e,n);return E(e),_(e.innerHTML,t)}function _(e,n){const t=p(e);if(t[t.length-1].trim()===""&&t.pop(),t.length>1||n.singleLine){for(var r="",i=0,o=t.length;i<o;i++)r+=d('<tr><td class="{0} {1}" {3}="{5}"><div class="{2}" {3}="{5}"></div></td><td class="{0} {4}" {3}="{5}">{6}</td></tr>',[M,j,L,f,N,i+n.startFrom,t[i].length>0?t[i]:" "]);return d('<table class="{0}">{1}</table>',[a,r])}return e}function d(e,n){return e.replace(/\{(\d+)\}/g,function(t,r){return n[r]!==void 0?n[r]:t})}function y(e,n){return n=n||{},{singleLine:F(n),startFrom:D(e,n)}}function F(e){return e.singleLine?e.singleLine:!1}function D(e,n){let r=1;isFinite(n.startFrom)&&(r=n.startFrom);const i=V(e,"data-ln-start-from");return i!==null&&(r=$(i,1)),r}function E(e){const n=e.childNodes;for(const t of n)I(t.textContent)>0&&(t.childNodes.length>0?E(t):H(t.parentNode))}function H(e){var n=e.className;if(/hljs-/.test(n)){for(var t=p(e.innerHTML),r=0,i="";r<t.length;r++){var o=t[r].length>0?t[r]:" ";i+=d(`<span class="{0}">{1}</span>
`,[n,o])}e.innerHTML=i.trim()}}function p(e){return e.length===0?[]:e.split(g)}function I(e){return(e.trim().match(g)||[]).length}function V(e,n){return e.hasAttribute(n)?e.getAttribute(n):null}function $(e,n){if(!e)return n;const t=Number(e);return isFinite(t)?t:n}function R(e){if(!e)throw new Error("registerHljsLineNumbers: hljs was not provided!");e.initLineNumbersOnLoad=C,e.lineNumbersBlock=h,e.lineNumbersValue=S}function k(){const e=window.document.createElement("style");e.innerHTML=`
  .${a}{border-collapse:collapse}
  .${a} td{padding:0}
  .${L}:before{content:attr(${f})}
  `,window.document.getElementsByTagName("head")[0].appendChild(e)}export{k as injectHljsLineNumbersCss,R as registerHljsLineNumbers};
